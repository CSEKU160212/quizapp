"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[592],{9562:function(n,e,t){t.d(e,{_:function(){return c},K:function(){return u}});var s="Email is required",i="Invalid email, please enter correct one",o="Password is required",r="Question is required",a="All option field are required",l="Answer is required",c=function(n){var e=n.email,t=n.password,r={};e&&""!==e?new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)||(r.email=i):r.email=s;return t&&""!==t||(r.password=o),r},u=function(n){var e={};return null!==n&&void 0!==n&&n.question&&""!==n.question||(e.question=r),(null===n||void 0===n?void 0:n.options.length)<4&&(e.options=a),null===n||void 0===n||n.options.forEach((function(n){n&&""!==n||(e.options=a)})),null!==n&&void 0!==n&&n.answer&&""!==(null===n||void 0===n?void 0:n.answer)||(e.answer=l),e}},2703:function(n,e,t){t.d(e,{Fd:function(){return i},H8:function(){return u},Nn:function(){return d},S2:function(){return l},SF:function(){return a},o_:function(){return o},rL:function(){return c},x2:function(){return r}});var s=t(1413),i=function(n,e){return n.filter((function(n){return n.visibleFor.includes(e)}))},o=function(n,e){return n.filter((function(n){return n.accessibleBy.includes(e)}))},r=function(n){return n.filter((function(n){return!n.isDeleted}))},a=function(n,e){var t=n.find((function(n){return Number(n.id)===Number(e)}));return t||null},l=function(n){return console.log({questions:n}),n&&n.filter((function(n){return!n.isDeleted}))},c=function(n){var e={};e.question=n.question,e.answer=n.answer;for(var t=Object.keys(n.options),s=[],i=n.options,o=0;o<t.length;o++)s.push(i[t[o]]);return e.options=s,e.isDeleted=!1,e},u=function(){return(new Date).getFullYear()},d=function(n,e){var t=(0,s.Z)((0,s.Z)({},n),{},{questions:[n.questions]});return t.questions=e,t}},2193:function(n,e,t){t(2791);var s=t(2469),i=t(184);e.Z=function(n){var e=n.variant,t=n.message;return(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsx)("div",{style:{width:"fit-content"},className:"mx-auto",children:(0,i.jsx)(s.Z,{variant:e,className:"text-center mb-2",children:t},e)})})}},6592:function(n,e,t){t.r(e),t.d(e,{default:function(){return Z}});var s=t(1413),i=t(885),o=t(2791),r=t(6712),a=t(2703),l=t(9140),c=t(5129),u=t(9743),d=t(2677),m=t(3360),x=t(9271),v=t(9562),h=t(4942),f=t(2193),j=t(184),p=function(n){var e=n.quizId,t=(0,o.useState)(!1),x=(0,i.Z)(t,2),p=x[0],Z=x[1],g=(0,o.useState)({question:"",options:{optionA:"",optionB:"",optionC:"",optionD:""},answer:""}),w=(0,i.Z)(g,2),q=w[0],b=w[1],C=(0,o.useState)(null),N=(0,i.Z)(C,2),y=N[0],k=N[1],z=(0,r.WF)(),F=z.addMessage,S=z.errorMessage,I=(0,r.GQ)(),Q=function(){(0,r.jG)(I),(0,r.c9)(I)},A=function(n){var e=n.target,t=e.name,i=e.value;if("question"===t||"answer"===t){var o=(0,s.Z)((0,s.Z)({},q),{},(0,h.Z)({},t,i));b(o),y&&y[t]&&k((0,s.Z)((0,s.Z)({},y),{},(0,h.Z)({},t,"")))}else{var r=(0,s.Z)((0,s.Z)({},q),{},{options:(0,s.Z)((0,s.Z)({},q.options),{},(0,h.Z)({},t,i))});b(r),y&&y.options&&k((0,s.Z)((0,s.Z)({},y),{},{options:""}))}Q()};return(0,j.jsx)(j.Fragment,{children:p?(0,j.jsx)(l.Z,{className:"m-3",style:{border:"none"},children:(0,j.jsxs)(l.Z.Body,{children:[(0,j.jsx)("h5",{className:"text-center mb-3 text-primary",children:"Add Question"}),(0,j.jsx)(f.Z,{variant:"danger",message:S}),(0,j.jsx)(f.Z,{variant:"success",message:F}),(0,j.jsx)(u.Z,{children:(0,j.jsx)(d.Z,{sm:12,md:6,lg:4,className:"mx-auto",children:(0,j.jsxs)(c.Z,{children:[(0,j.jsxs)(c.Z.Group,{className:"mb-3",controlId:"question",children:[(0,j.jsx)(c.Z.Label,{children:"Question"}),(0,j.jsx)(c.Z.Control,{type:"text",name:"question",size:"sm",placeholder:"Enter Question",isInvalid:!(null===y||void 0===y||!y.question),onChange:function(n){return A(n)}}),(0,j.jsx)(c.Z.Control.Feedback,{type:"invalid",children:null===y||void 0===y?void 0:y.question})]}),(0,j.jsx)(u.Z,{children:Object.keys(q.options).map((function(n,e){return(0,j.jsx)(d.Z,{md:6,lg:6,sm:12,children:(0,j.jsxs)(c.Z.Group,{className:"mb-3",controlId:n,children:[(0,j.jsx)(c.Z.Label,{children:"Option ".concat(String.fromCharCode(65+e),":")}),(0,j.jsx)(c.Z.Control,{type:"text",name:n,size:"sm",placeholder:"Enter option",isInvalid:!q.options["".concat(n)]&&(null===y||void 0===y?void 0:y.options),onChange:function(n){return A(n)}}),(0,j.jsx)(c.Z.Control.Feedback,{type:"invalid",children:!q.options["".concat(n)]&&null!==y&&void 0!==y&&y.options?null===y||void 0===y?void 0:y.options:""})]})},n)}))}),(0,j.jsxs)(c.Z.Group,{className:"mb-3",controlId:"answer",children:[(0,j.jsx)(c.Z.Label,{children:"Answer"}),(0,j.jsx)(c.Z.Control,{type:"text",name:"answer",size:"sm",placeholder:"Enter Answer",isInvalid:!(null===y||void 0===y||!y.answer),onChange:function(n){return A(n)}}),(0,j.jsx)(c.Z.Control.Feedback,{type:"invalid",children:null===y||void 0===y?void 0:y.answer})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)(m.Z,{size:"sm",className:"px-4 m-1",variant:"primary",onClick:function(){var n=(0,a.rL)(q),t=(0,v.K)(n);console.log(t),Object.keys(t).length>0?k(t):(0,r.xL)(I,e,n)},children:"Add"}),(0,j.jsx)(m.Z,{size:"sm",className:"px-4 m-1",variant:"warning",onClick:function(){Z(!1),Q()},children:"Cancel"})]})]})})})]})}):(0,j.jsx)("div",{className:"lg-m-3 sm-m-1 md-m-2",style:{width:"fit-content"},children:(0,j.jsx)(m.Z,{size:"sm",onClick:function(){Z(!0)},children:"Add Question"})})})},Z=function(n){var e=n.match.params.id,t=(0,o.useState)(null),h=(0,i.Z)(t,2),Z=h[0],g=h[1],w=(0,o.useState)(null),q=(0,i.Z)(w,2),b=q[0],C=q[1],N=(0,o.useState)({}),y=(0,i.Z)(N,2),k=y[0],z=y[1],F=(0,r.WF)(),S=F.data,I=F.errorMessage,Q=F.updateMessage,A=F.deleteMessage,E=(0,r.GQ)(),G=(0,x.k6)();(0,o.useEffect)((function(){(0,r.PW)(E)}),[E]),(0,o.useEffect)((function(){var n=(0,a.SF)(S,e);g(n)}),[S,e,G]);var L=function(){(0,r.HS)(E),(0,r.jG)(E),(0,r.ZE)(E)};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"lg-m-3 sm-m-1 md-m-2 mb-5",children:[Z&&(0,j.jsx)("h3",{className:"text-center",children:"Quiz Topic: ".concat(Z.topic)}),(0,j.jsx)(p,{quizId:null===Z||void 0===Z?void 0:Z.id}),(0,j.jsx)(f.Z,{variant:"success",message:A}),Z&&Z.questions&&(0,a.S2)(Z.questions).map((function(n,t){return(0,j.jsxs)(l.Z,{as:"div",className:"lg-m-3 sm-m-1 md-m-2 mt-4 shadow rounded",children:[(0,j.jsxs)(l.Z.Header,{children:[b===n.id&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(f.Z,{variant:"danger",message:I}),(0,j.jsx)(f.Z,{variant:"success",message:Q})]}),b===n.id?(0,j.jsxs)(c.Z.Group,{className:"mb-2 justify-content-center mx-auto",style:{width:"60%"},controlId:"questions-".concat(t),children:[(0,j.jsx)(c.Z.Label,{children:(0,j.jsx)("strong",{children:"Question:"})}),(0,j.jsx)(c.Z.Control,{type:"text",size:"sm",onChange:function(n){return function(n,e){(0,s.Z)({},Z).questions[e].question=n.target.value,L()}(n,t)},defaultValue:n.question,isInvalid:!(null===k||void 0===k||!k.question)}),(0,j.jsx)(c.Z.Control.Feedback,{type:"invalid",children:null===k||void 0===k?void 0:k.question})]}):(0,j.jsx)(l.Z.Title,{className:"text-center",children:"".concat(t+1,") ").concat(n.question)})]}),(0,j.jsx)(l.Z.Body,{className:"m-2 align-items-center justify-content-center",children:(0,j.jsxs)("div",{className:"text-left mx-auto",children:[(0,j.jsx)(u.Z,{children:null===n||void 0===n?void 0:n.options.map((function(e,i){return b===n.id?(0,j.jsx)(d.Z,{md:6,lg:3,sm:12,children:(0,j.jsxs)(c.Z.Group,{className:"mb-2",controlId:"option",children:[(0,j.jsx)(c.Z.Label,{children:(0,j.jsx)("strong",{children:"Option ".concat(String.fromCharCode(65+i),":")})}),(0,j.jsx)(c.Z.Control,{type:"text",size:"sm",onChange:function(n){return function(n,e,t){(0,s.Z)({},Z).questions[e].options[t]=n.target.value,L()}(n,t,i)},defaultValue:e})]})},"option-".concat(i)):(0,j.jsx)(d.Z,{md:6,lg:3,sm:12,className:"mx-auto",children:"".concat(String.fromCharCode(65+i),") ").concat(e)},"".concat(e,"-div-").concat(i))}))}),(0,j.jsx)("div",{className:"text-danger mb-2 small",children:null===k||void 0===k?void 0:k.options}),b===n.id?(0,j.jsxs)(c.Z.Group,{className:"mb-2",controlId:"answer-".concat(t),children:[(0,j.jsx)(c.Z.Label,{children:(0,j.jsx)("strong",{children:"Right Answer:"})}),(0,j.jsx)(c.Z.Control,{type:"text",size:"sm",onChange:function(n){return function(n,e){(0,s.Z)({},Z).questions[e].answer=n.target.value,L()}(n,t)},defaultValue:n.answer,isInvalid:!(null===k||void 0===k||!k.answer)}),(0,j.jsx)(c.Z.Control.Feedback,{type:"invalid",children:null===k||void 0===k?void 0:k.answer})]}):(0,j.jsxs)("p",{className:"mt-2",children:[(0,j.jsx)("strong",{className:"font-weight-bold",children:"Right Answer: "}),(0,j.jsx)("strong",{className:"text-success",children:"".concat(n.answer)})]})]})}),(0,j.jsxs)(l.Z.Footer,{className:"text-center",children:[(0,j.jsx)(m.Z,{as:"button",variant:b===n.id?"outline-success":"outline-primary",size:"sm",className:"mx-1",onClick:function(){var e;b===n.id?function(n){var e=(0,v.K)(null===Z||void 0===Z?void 0:Z.questions[n]);Object.keys(e).length>0?z(e):(z({}),(0,r.of)(E,Z))}(t):(e=n.id,C(e),L())},children:b===n.id?"Save Changes":"Edit Question"}),b===n.id&&(0,j.jsx)(m.Z,{as:"button",variant:"outline-info",size:"sm",className:"mx-1",onClick:function(){return window.location.reload(),void L()},children:"Cancel"}),(0,j.jsx)(m.Z,{as:"button",variant:"outline-danger",size:"sm",className:"mx-1",onClick:function(){return t=n.id,void(0,r.Km)(E,e,t);var t},children:"Delete Question"})]})]},"question-".concat(t))}))]})})}}}]);
//# sourceMappingURL=592.398ba2b5.chunk.js.map